#!/usr/bin/env python3

########################################################################################################################

def main():

    ####################################################################################################################

    with open('src/schema/indi.xsd', 'rb') as f:

        data_in = bytearray(f.read())

    ####################################################################################################################

    data_len = len(data_in)
    data_out = (((('\n'))))

    for part in range(0, data_len, 16):

        data_out += f'\t{", ".join(["0x%02X" % b for b in data_in[part: part + 16]])},\n'

    ####################################################################################################################

    with open('src/indi_proxy_schema.h', 'wt') as f:

        f.write(f'/* file: indi.xsd */\n\n')

        f.write(f'#define INDI_PROXY_XSD_SIZE {data_len}\n\n')

        f.write(f'char indi_proxy_xsd_buff[] = {{{data_out}}};\n')

    ####################################################################################################################

if __name__ == '__main__':

    main()

########################################################################################################################
